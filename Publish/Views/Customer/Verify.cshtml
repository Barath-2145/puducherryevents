
@{
    //ViewBag.Title = "Verify";
    //Layout = "~/Views/Shared/_AdminLayout.cshtml";

    var userName = Context.Request.Form["username"];

    var role = Context.Request.Form["role"];
    if (role == "ADMIN")
    {
        Layout = "~/Views/Shared/_AdminLayout.cshtml";
    }
    else if (role == "USER")
    {
        Layout = "~/Views/Shared/_UserLayout.cshtml";
    }
    else
    {
        Layout = "~/Views/Shared/_SuperAdminLayout.cshtml";
    }
}

<style>

    .table.dataTable th {
        text-align: center;
    }

    table.dataTable thead tr {
        background-color: gray;
        color: white;
    }

    .action-buttons {
        min-width: 100px !important;
    }



    .save .btn-get-started {
        margin-top: 30px;
        line-height: 0;
        padding: 15px 65px;
        border-radius: 4px;
        transition: 0.5s;
        color: #fff;
        background: green;
        box-shadow: 0px 5px 30px rgba(65, 84, 241, 0.4);
    }

    .cancel .btn-get-started {
        margin-top: 30px;
        line-height: 0;
        padding: 15px 65px;
        border-radius: 4px;
        transition: 0.5s;
        color: #fff;
        background: red;
        box-shadow: 0px 5px 30px rgba(65, 84, 241, 0.4);
    }

    .dataTables_scrollHead {
        width: 100% !important;
    }

    #cancel-customer-button,
    #save-customer-button,
    #update-customer-button {
        color: white;
        border-radius: 8px;
        padding: 8px;
    }

    .select2-container .select2-selection--single {
        height: 33px;
        box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
    }

    select2-container--default .select2-selection--single {
        background-color: black;
    }

    .sec-title-style1 .title {
        position: relative;
        display: block;
        color: #012970;
        font-size: 36px;
        line-height: 46px;
        font-weight: 700;
        text-transform: uppercase;
    }

    *, ::after, ::before {
        box-sizing: border-box;
    }

    .text-center {
        text-align: center !important;
    }

    .sec-title-style1 .text p {
        position: relative;
        display: inline-block;
        padding: 0 15px;
        color: #012970;
        font-size: 14px;
        line-height: 16px;
        font-weight: 700;
        text-transform: uppercase;
        margin: 0;
    }

    .sec-title-style1 .text .decor-left {
        position: relative;
        top: -2px;
        display: inline-block;
        width: 70px;
        height: 5px;
        background: transparent;
    }

    .sec-title-style1 .text .decor-right {
        position: relative;
        top: -2px;
        display: inline-block;
        width: 70px;
        height: 5px;
        background: transparent;
    }

    .sec-title-style1 .text .decor-left span {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        width: 50px;
        height: 1px;
        background: #FFA500;
        content: "";
        margin: 2px 0;
    }

    .sec-title-style1 .text .decor-left::before {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        width: 5px;
        height: 5px;
        background: #FFA500;
        border-radius: 50%;
        content: "";
    }

    .sec-title-style1 .text .decor-left::after {
        position: absolute;
        top: 0;
        right: 10px;
        bottom: 0;
        width: 5px;
        height: 5px;
        background: #FFA500;
        border-radius: 50%;
        content: "";
    }

    .sec-title-style1 .text .decor-right::before {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        width: 5px;
        height: 5px;
        background: #FFA500;
        border-radius: 50%;
        content: "";
    }

    .sec-title-style1 .text .decor-right::after {
        position: absolute;
        top: 0;
        left: 10px;
        bottom: 0;
        width: 5px;
        height: 5px;
        background: #FFA500;
        border-radius: 50%;
        content: "";
    }

    .sec-title-style1 .text .decor-right span {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        width: 50px;
        height: 1px;
        background: #FFA500;
        content: "";
        margin: 2px 0;
    }

    .container {
        max-width: 1274px;
    }

    .application {
        border: 2px solid #012970;
        padding: 50px;
        margin: 6px;
    }

   
</style>
<div style="padding:60px;"></div>
<div class="col-md-12" style="margin: 0; padding: 0;">
    <div class="container" @*class="panel panel-default shadow"*@>
        <div @*class="panel-heading"*@>
            <!--<div class="row" style="text-align: center;">-->
            @*<div class="col-md-10">
                    <b  style="font-size:24px; color:#012970;">
                        Customer Verification
                        <span id="title"></span>
                    </b>
                </div>*@


            <!--</div>-->
            <div id="cv" class="sec-title-style1 text-center max-width">
                <div class="title">Customer Verification</div>
                <div id="cl" class="text"><div class="decor-left"><span></span></div><p>Check and Approve the customer</p><div class="decor-right"><span></span></div></div>

            </div>
        </div>

        <div @*class="panel-body" style="padding:8px; margin:0;"*@>
            <div id="customer-list">
                @*<table id="customer-grid" class="table table-striped table-bordered" style="width:100%">*@
                <table id="customer-grid" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th>Customer Name</th>
                            <th>Event Category</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Place</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>

                </table>
            </div>

        </div>
        <div id="customer-form" data-aos="fade-up" data-aos-delay="200" style="display: none;">

            <div class="sec-title-style1 text-center max-width">

                <div class="text"><div class="decor-left"><span></span></div><p>Account Verification</p><div class="decor-right"><span></span></div></div>

            </div>
            <button class="btn btn-primary" onclick="onExportClick();" id="exportpdf">Download Application</button>

            <div id="divToExport">
               
                <center>
                    <img src="~/images/chrome-banquets1.png" style="height:100px; width:100px;" /><h4>Pondicherry Events</h4>
                    
                    <h4>Application Form for Permission to Hold an Event</h4>
                </center>
                <br />
                <center><h4><span id="event-name"></span></h4></center>
                
                <span style="display:none;" id="total-days"></span>
                <div class="row" style="font-size:14px;">
                    <div class="col-md-1"></div>
                    <div class="col-md-10">
                        <div class="application">
                            <div class="row">
                                <div class="col-md-6">
                                    1. Date of Application:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="created"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    2. Date of Event:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="from-date"></span><span id="empty"></span><span style="color:darkblue;" id="to-date"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    3. Description of Event & Activities:
                                </div>
                                <div class="col-md-6">
                                    <span class="dataBorder" style="color:darkblue;" id="event-details"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-12">

                                    <div class="row">
                                        <div class="col-md-6">
                                            4. Full Name of Applicant:
                                        </div>
                                        <div class="col-md-6">
                                            <span style="color:darkblue;" id="name"></span>
                                        </div>
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-md-6">
                                            &nbsp;&nbsp;&nbsp;a) Phone Number:
                                        </div>
                                        <div class="col-md-6">
                                            <span style="color:darkblue;" id="mobile-no"></span>
                                        </div>
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-md-6">
                                            &nbsp;&nbsp;&nbsp;b) Email Address:
                                        </div>
                                        <div class="col-md-6">
                                            <span style="color:darkblue;" id="email-id"></span>
                                        </div>
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-md-6">
                                            &nbsp;&nbsp;&nbsp;c) Address:
                                        </div>
                                        <div class="col-md-6">
                                            <span style="color:darkblue;" id="address"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-12">

                                    <div class="row">
                                        <div class="col-md-6">
                                            5. Name of Organization:
                                        </div>
                                        <div class="col-md-6">
                                            <span style="color:darkblue;" id="organization"></span>
                                        </div>
                                    </div><br />
                                    <div class="row">
                                        <div class="col-md-6">
                                            &nbsp;&nbsp;&nbsp;a) Position in Organization:
                                        </div>
                                        <div class="col-md-6">
                                            <span style="color:darkblue;" id="organization-position"></span>
                                        </div>
                                    </div><br />
                                    <div class="row">
                                        <div class="col-md-6">
                                            &nbsp;&nbsp;&nbsp;b) Contact Number:
                                        </div>
                                        <div class="col-md-6">
                                            <span style="color:darkblue;" id="contact-number"></span>
                                        </div>
                                    </div><br />
                                    <div class="row">
                                        <div class="col-md-6">
                                            &nbsp;&nbsp;&nbsp;c) Organization Url:
                                        </div>
                                        <div class="col-md-6">
                                            <span style="color:darkblue;" id="organization-url"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    6. Government Venue Details:
                                </div>
                                @*<div class="col-md-6">
                    <span style="color:darkblue;" id="location"></span>
                </div>*@
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;a) Place:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="location"></span>
                                </div>
                            </div><br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;b) Additional Details:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="additional-details"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    7. What is the approximate number of
                                    People expected to attend?:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="no-people"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    8. Is the Event Ticketed?:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="event-ticket"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-12">

                                    <div class="row">
                                        <div class="col-md-6">
                                            9. Is this Event Solely for Charity?:
                                        </div>
                                        <div class="col-md-6">
                                            <span style="color:darkblue;" id="event-charity"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    If not please provide further details:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="event-charity-details"></span>
                                </div>
                            </div>
                            <br />
                        </div>

                        <div class="application">
                            <div class="col-md-6">
                                10. Will there be:
                            </div><br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;a) Entrance Fee:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="enterance-fee"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;b) Liquor licence :
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="liquor-licence"></span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;If yes, from whom?:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="liquor-details"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;c) Live Bands:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="live-bands"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;d) Rides:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="rides"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;e) Food :
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="food"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;If yes, from whom?:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="food-details"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;f) Stalls:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="stalls"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;g) Entertainment:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="entertainment"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;h) Staging:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="staging"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;i) Bins:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="bins"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;j) Barriers:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="barriers"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;If yes, from whom?:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="barrier-details"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;k) Toilets:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="toilets"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;If yes, from whom?:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="toilet-details"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;l) Is your risk assessment attached?<br />&nbsp;&nbsp;&nbsp;(See Guidelines):
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="risk"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;m) Have you complied with Health & Safety <br>&nbsp;&nbsp;&nbsp;Statutory requirements?(See Guidelines):
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="health-safety"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    &nbsp;&nbsp;&nbsp;n)Have you provided a route If necessary?:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="route"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    11. Please confirm you have read
                                    and understood the guidelines.:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="guidelines"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    12. Parking Area:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="parking"></span>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    13. Id Proof Type:
                                </div>
                                <div class="col-md-6">
                                    <span style="color:darkblue;" id="government-id"></span>
                                </div>
                            </div>

                        </div>

                        <div class="application">

                            <div class="row">
                                <div class="col-md-2">
                                    14. Id Proof:
                                </div>
                                <div class="col-md-10">
                                    <div class="preview">
                                        <img src="" id="preview-photo" width="100%" height="1011px" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="application">
                            <br />
                            <div class="row">
                                <div class="col-md-2">
                                    15. Event Plan:
                                </div>
                                <div class="col-md-10">
                                    <div class="preview">
                                        <img src="" id="event-photo" width="100%" height="995px" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="application">
                            <br />
                            <div class="row">
                                <div class="col-md-2">
                                    16. Cover Letter:
                                </div>
                                <div class="col-md-10">
                                    <div class="preview">
                                        <img src="" id="cover-letter" width="100%" height="990px" />
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="application">
                            <br />
                            <div class="row">
                                <div class="col-md-6">
                                    17. Authorised Signature:
                                </div>
                                <div class="col-md-6">
                                    <div class="preview">
                                        <img src="" id="signature-photo" width="250px" height="150px" />
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="col-md-2"></div>
                    </div>
                    <div class="col-md-1"></div>
                </div>


                <br />


                <br />
                <br />

                <div id="thanks" class="jumbotron text-center" style="display:none;">
                    <h1 class="display-3">Thank You!</h1>
                    <p class="lead"><strong>We will Sending Email</strong> for further instructions on how to download your permission Letter.</p>
                    <hr>
                    <p>
                        Having trouble? <a href="/Home/Contact">Contact us</a>
                    </p>
                    <p class="lead">
                        <a class="btn btn-primary btn-sm" href="/Home/Index" role="button">Continue to homepage</a>
                    </p>
                </div>
            </div>

            <div class="row" id="ch">
                <div class="col-md-1"></div>
                <div class="col-md-11">
                    <label><b>Check Departments to send Applications</b></label>
                    <div style="padding:4px;"></div>
                    <div id="all-dept"></div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-1"></div>
                <div class="row col-md-10">
                    <div class="save col-md-3" id="sv">
                        <a href="#" id="verify-customer" class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center">
                            <span>Verified</span>&nbsp;
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                    <div class="cancel col-md-3">
                        <a href="#" id="cancel-customer" class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center">
                            <span>Cancel</span>&nbsp;
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
                <div class="col-md-1"></div>
            </div>
            <br />
        </div>
    </div>
</div>


<script src="~/Scripts/js/CustomerList.js"></script>
<script src="~/Scripts/js/CustomerVerifyForm.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>

<script src="~/Scripts/html2pdf.js"></script>
<script>



    function showPreview(event) {
        if (event.target.files.length > 0) {
            var src = URL.createObjectURL(event.target.files[0]);
            var preview = document.getElementById("company-logo-preview");
            preview.src = src;
            preview.style.display = "block";
        }
    }

    var customerListComponent = null;
    var customerFormComponent = null;

    $(function () {
        customerListComponent = new PBCustomerListComponent("customer-list", "/ApiCustomer/GetCustomers");

        customerListComponent.deleteURL = "/ApiCustomer/DeleteCustomer";
        
        customerFormComponent = new PBCustomerFormComponent("customer-form"); //, "/ApiUser/SaveUser");
        customerFormComponent.departmentURL = "ApiDepartment/GetDepartments";
        customerFormComponent.saveURL = "ApiCustomer/SaveCustomer";
        customerFormComponent.updateURL = "ApiCustomer/VerifyCustomer";

        customerFormComponent.onVerifyCompleted = function () {
            customerListComponent.getData();
            customerListComponent.show();
            customerFormComponent.hide();
        }

        customerFormComponent.onCancelled = function () {
            customerListComponent.show();
            customerFormComponent.hide();
            $("#add-customer").show();
            $("#ul").show();
            $("#cl").show();
            $("#title").html("");

        }

        customerListComponent.onEditClicked = function (recToEdit) {
            $("#cl").hide();
            customerListComponent.hide();
            customerFormComponent.show();
            customerFormComponent.populateData(recToEdit);



        }

    })
</script>
