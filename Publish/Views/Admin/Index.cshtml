
@{
    //ViewBag.Title = "Index";
    //Layout = "~/Views/Shared/_AdminLayout.cshtml";

    //var userName = Session["UserName"];
    //var role = Session["Role"];

    var userName = Context.Request.Form["username"];

    var role = Context.Request.Form["role"];


    //string s = role.ToString().Trim().ToUpper();
    if (role == "ADMIN")
    {
        Layout = "~/Views/Shared/_AdminLayout.cshtml";
    }
    else if (role == "USER")
    {
        Layout = "~/Views/Shared/_UserLayout.cshtml";
    }
    else
    {
        Layout = "~/Views/Shared/_SuperAdminLayout.cshtml";
    }
}


<style>

    .table.dataTable th {
        text-align: center;
    }

    table.dataTable thead tr {
        background-color: gray;
        color: white;
    }

    .action-buttons {
        min-width: 100px !important;
    }

    .update .btn-get-started {
        margin-top: 30px;
        line-height: 0;
        padding: 15px 67px;
        border-radius: 4px;
        transition: 0.5s;
        color: #fff;
        background: yellow;
        box-shadow: 0px 5px 30px rgba(65, 84, 241, 0.4);
    }

    .save .btn-get-started {
        margin-top: 30px;
        line-height: 0;
        padding: 15px 76px;
        border-radius: 4px;
        transition: 0.5s;
        color: #fff;
        background: green;
        box-shadow: 0px 5px 30px rgba(65, 84, 241, 0.4);
    }

    .cancel .btn-get-started {
        margin-top: 30px;
        line-height: 0;
        padding: 15px 69px;
        border-radius: 4px;
        transition: 0.5s;
        color: #fff;
        background: red;
        box-shadow: 0px 5px 30px rgba(65, 84, 241, 0.4);
    }

    .sec-title-style1 .title {
        position: relative;
        display: block;
        color: #012970;
        font-size: 36px;
        line-height: 46px;
        font-weight: 700;
        text-transform: uppercase;
    }

    *, ::after, ::before {
        box-sizing: border-box;
    }

    .text-center {
        text-align: center !important;
    }

    .sec-title-style1 .text p {
        position: relative;
        display: inline-block;
        padding: 0 15px;
        color: #012970;
        font-size: 14px;
        line-height: 16px;
        font-weight: 700;
        text-transform: uppercase;
        margin: 0;
    }

    .sec-title-style1 .text .decor-left {
        position: relative;
        top: -2px;
        display: inline-block;
        width: 70px;
        height: 5px;
        background: transparent;
    }

    .sec-title-style1 .text .decor-right {
        position: relative;
        top: -2px;
        display: inline-block;
        width: 70px;
        height: 5px;
        background: transparent;
    }

    .sec-title-style1 .text .decor-left span {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        width: 50px;
        height: 1px;
        background: #FFA500;
        content: "";
        margin: 2px 0;
    }

    .sec-title-style1 .text .decor-left::before {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        width: 5px;
        height: 5px;
        background: #FFA500;
        border-radius: 50%;
        content: "";
    }

    .sec-title-style1 .text .decor-left::after {
        position: absolute;
        top: 0;
        right: 10px;
        bottom: 0;
        width: 5px;
        height: 5px;
        background: #FFA500;
        border-radius: 50%;
        content: "";
    }

    .sec-title-style1 .text .decor-right::before {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        width: 5px;
        height: 5px;
        background: #FFA500;
        border-radius: 50%;
        content: "";
    }

    .sec-title-style1 .text .decor-right::after {
        position: absolute;
        top: 0;
        left: 10px;
        bottom: 0;
        width: 5px;
        height: 5px;
        background: #FFA500;
        border-radius: 50%;
        content: "";
    }

    .sec-title-style1 .text .decor-right span {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        width: 50px;
        height: 1px;
        background: #FFA500;
        content: "";
        margin: 2px 0;
    }


    * {
        box-sizing: border-box;
        margin: 0;
        font-family: sans-serif;
    }

    /*body {*/
    /* this is just to show in Codepen thumbnail, don't copy this five items */
    /*transform: scale(1.85);
        background: #e3f2fd;
        overflow: hidden;
        width: 100%;
        height: 80vh;*/
    /*Div parent need this*/
    /*display: flex;
        flex-direction: column;
        gap: 20px;
        justify-content: center;
        align-items: center;
    }*/

    .item {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 16px;
    }

        .item label {
            display: flex;
            margin: auto;
            width: 30px;
            height: 30px;
            cursor: pointer;
        }

    .check input {
        position: absolute;
        transform: scale(0);
    }

        .check input:checked ~ .checkbox {
            transform: rotate(45deg);
            width: 10px;
            margin: -5px 7px 0 -15px;
            border-color: #24c78e;
            border-width: 4px;
            border-top-color: transparent;
            border-left-color: transparent;
            border-radius: 0;
        }

    .checkbox {
        display: block;
        width: inherit;
        height: inherit;
        border: 2px solid #999;
        border-radius: 4px;
        transition: all 0.2s cubic-bezier(0, 0.01, 0.23, 0.8);
    }

    .container {
        max-width: 1274px;
    }

    .add .btn-get-started {
        margin-top: 30px;
        line-height: 0;
        padding: 15px 25px;
        border-radius: 4px;
        transition: 0.5s;
        color: #fff;
        background: green;
        /*box-shadow: 0px 5px 30px rgba(65, 84, 241, 0.4);*/
        margin-left: 130px;
    }
</style>



<div style="padding:60px;"></div>

<div id="admin" class="col-md-12" style="margin: 0; padding: 0;">
    <div class="container" @*class="panel panel-default shadow"*@>

        <div class="sec-title-style1 text-center max-width">
            <div class="title">Logins</div>
            <div id="ul" class="text"><div class="decor-left"><span></span></div><p>Login List</p><div class="decor-right"><span></span></div></div>

        </div>
        <div class="row">
            <div class="col-md-9"></div>

            @*<a class="pull-right btn" id="add-vehicle-button" onclick="addVehicle(this); return false;"><i class="fa fa-plus-circle" style="font-size: 24px; color: green;"><b style="font-family:sans-serif;"> Add New</b></i></a>*@
            <!--<b class="pull-right" id="add-admin-button" onclick="addAdmin(this); return false;" style="font-size:24px; color:green;">
        <i class="fa fa-plus-circle" style="font-size: 24px; color: green;"></i> Add New-->
            @*<span id="title"></span>*@
            <!--</b>-->
            <div id="add" class="add col-md-3">
                <a href="#" id="add-admin-button" onclick="addAdmin(this); return false;" class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center">
                    <span>Create Login</span>
                    <i class="bi bi-chevron-right"></i>
                </a>
            </div>
            <div style="padding:4px;"></div>
        </div>



        <div @*class="panel-body" style="padding:8px; margin:0;"*@>
            <div id="admin-list">
                @*<table id="customer-grid" class="table table-striped table-bordered" style="width:100%">*@
                <table id="admin-grid" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Username</th>
                            <th>Password</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>

                </table>
            </div>

        </div>
    </div>
        <div id="admin-form" @*data-aos="fade-up" data-aos-delay="200"*@ style="display: none;">

            <div class="sec-title-style1 text-center max-width">

                <div class="text" id="uc"><div class="decor-left"><span></span></div><p>Login Creation</p><div class="decor-right"><span></span></div></div>
                <div class="text" id="uu"><div class="decor-left"><span></span></div><p>Login Updation</p><div class="decor-right"><span></span></div></div>
            </div>

            <br />
            <div class="row">
                <div class="col-md-1"></div>
                <div class="row col-md-10">
                    <div class="col-md-3">
                        <label><b>Name*</b></label>
                        <div style="padding:4px;"></div>
                        <input class="form-control" type="text" id="name" placeholder="Enter Name" />
                    </div>
                    <div class="col-md-3">
                        <label><b>Mobile Number*</b></label>
                        <div style="padding:4px;"></div>
                        <input class="form-control" id="mobile-no" type="text" placeholder="Enter Mobile Number" maxlength="10" />
                    </div>
                    <div class="col-md-3">
                        <label><b>Email Id*</b></label>
                        <div style="padding:4px;"></div>
                        <input class="form-control" id="email-id" type="text" placeholder="Enter EmailId" />
                    </div>
                    <div class="col-md-3">
                        <label><b>Address*</b></label>
                        <div style="padding:4px;"></div>
                        <input class="form-control" type="text" id="address" placeholder="Enter Address" />
                    </div>
                    <div style="padding:8px;"></div>
                    <div class="col-md-3">
                        <label><b>Username*</b></label>
                        <div style="padding:4px;"></div>
                        <input class="form-control" id="user-name" type="text" placeholder="Enter Username" />
                    </div>
                    <div class="col-md-3">
                        <label><b>Password*</b></label>
                        <div style="padding:4px;"></div>
                        <input class="form-control" id="password" type="text" placeholder="Enter Password" />
                    </div>
                    <div class="col-md-3">
                        <label><b>Role*</b></label>
                        <div style="padding:4px;"></div>
                        <select id="role" class="form-control">
                            <option value="" disabled selected>Select your option</option>
                            <option value="ADMIN">ADMIN</option>
                            <option value="DEPARTMENT">DEPARTMENT</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label><b>Department Name*</b></label>
                        <div style="padding:4px;"></div>
                        <select id="department-name" class="form-control"></select>
                    </div>
                    <div class="col-md-2" style="display:none;">
                        <label><b>Send SMS</b></label>
                        <div style="padding:4px;"></div>
                        <div class="item">
                            <label class="check">
                                <input type="checkbox" value="test1" name="test" checked />
                                <span class="checkbox"></span>
                            </label>
                            @*<p>Send SMS </p>*@
                        </div>

                    </div>

                    <div style="padding:8px;"></div>

                    <div id="sv" class="save col-md-3" style="display:none;">
                        @*<button id="save-user-button" class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center">Save</button>*@
                        <a href="#" id="save-admin-button" class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center">
                            <span>Save</span>&nbsp;
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>

                    <div id="updt" class="update col-md-3" style="display:none;">
                        <a href="#" id="update-admin-button" class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center">
                            <span>Update</span>&nbsp;
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                    <div id="cl" class="cancel col-md-3">
                        <a href="#" id="cancel-admin-button" class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center">
                            <span>Cancel</span>&nbsp;
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
                <div class="col-md-1"></div>
            </div>

        </div>
    </div>
</div>


<br />
<script src="~/Scripts/js/AdminForm.js"></script>
<script src="~/Scripts/js/AdminList.js"></script>

<script>


    var adminListComponent = null;
    var adminFormComponent = null;
   
   
    function addAdmin(el) {

        $("#add").hide();

        $("#ul").hide();
        $("#uc").show();
        $("#uu").hide();
        $("#sv").show();
        $("#updt").hide();
        adminListComponent.hide();
        adminFormComponent.show();
        adminFormComponent.populateData(null);

        $(el).hide();

    }

    $(function () {
        adminListComponent = new PBAdminListComponent("admin-list", "/ApiAdmin/GetAdmins");

        adminListComponent.deleteURL = "ApiAdmin/DeleteAdmin";

        adminFormComponent = new PBAdminFormComponent("admin-form"); //, "/ApiUser/SaveUser");
        adminFormComponent.saveURL = "ApiAdmin/SaveAdmin";
        adminFormComponent.nameURL = "ApiAdmin/GetDepartment";
        adminFormComponent.updateURL = "ApiAdmin/UpdateAdmin";

        adminFormComponent.onSaveCompleted = function () {
            adminListComponent.getData();
            adminListComponent.show();           
            adminFormComponent.hide();
            $("#add").show();
            $("#ul").show();
        }

        adminListComponent.onEditClicked = function (recToEdit) {
            $("#ul").hide();
            $("#uc").hide();
            $("#uu").show();
            $("#add").hide();
            adminListComponent.hide();
            adminFormComponent.show();
            adminFormComponent.populateData(recToEdit);
            $("#cv").hide();
            $("#sv").hide();
            $("#updt").show();


        }

        adminFormComponent.onCancelled = function () {
            adminListComponent.show();
            adminFormComponent.hide();
            $("#add").show();
            $("#ul").show();
            $("#title").html("");
        }
        adminFormComponent.onUpdateCompleted = function () {
            adminListComponent.show();
                
            adminListComponent.getData();
            adminFormComponent.hide();
            $("#add").show();
            $("#title").html("");
        }

        adminListComponent.onDeleteCompleted = function () {
            adminListComponent.getData();
        }

    })
</script>